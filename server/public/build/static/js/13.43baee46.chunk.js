(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[13],{104:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t(4),i=t(0),a=(t(80),t(1));function c(e){var n=Object(i.useState)(!1),t=Object(r.a)(n,2),c=t[0],s=t[1];return Object(i.useEffect)((function(){if(e.serverError){s(!0);var n=setTimeout((function(){s(!1)}),5e3);return function(){return clearTimeout(n)}}s(!1)}),[e]),Object(a.jsx)(a.Fragment,{children:c?Object(a.jsx)("p",{className:"rgsServError",children:e.serverError}):""})}},21:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t(36),i=t.n(r),a=t(1);function c(e){return Object(a.jsx)("div",{className:i.a.errors,children:Object(a.jsx)("p",{children:e.children})})}},239:function(e,n,t){},30:function(e,n,t){"use strict";t.d(n,"h",(function(){return i})),t.d(n,"f",(function(){return a})),t.d(n,"g",(function(){return c})),t.d(n,"i",(function(){return s})),t.d(n,"d",(function(){return o})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return d})),t.d(n,"j",(function(){return l})),t.d(n,"e",(function(){return m})),t.d(n,"b",(function(){return h}));var r="https://iwanttohave.herokuapp.com/api";function i(e){return fetch("".concat(r,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function a(e){return fetch("".concat(r,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function c(){return fetch("".concat(r,"/auth/logout"),{method:"GET",credentials:"include"})}function s(e){return fetch("".concat(r,"/auth/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function o(e){return fetch("".concat(r,"/auth/getUserMessages/")+e,{credentials:"include"}).then((function(e){return e.json()}))}function u(e,n){return fetch("".concat(r,"/auth/getAllMessagesForCurrentArticle/")+e+"/"+n,{credentials:"include"}).then((function(e){return e.json()}))}function d(e,n,t){return fetch("".concat(r,"/auth/deleteDiscussion"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({artId:e,recieverId:n,senderId:t})}).then((function(e){return e.json()}))}function l(e){return fetch("".concat(r,"/upload/uploadUserImg"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:e})}).then((function(e){return e.json()})).then((function(e){return 200===e.status?window.location.reload():""}))}function m(){return fetch("".concat(r,"/upload/loadImages"),{method:"GET",credentials:"include"}).then((function(e){return e.json()}))}function h(e){return fetch("".concat(r,"/upload/deleteImage/")+e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){return 200===e.status?window.location.reload():""}))}},318:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return b}));var r=t(24),i=t.n(r),a=t(25),c=t(4),s=t(0),o=t(2),u=t(6),d=t(27),l=t(21),m=t(104),h=t(45),f=t(9),p=(t(239),t(30)),j=t(1);function b(){var e=Object(o.h)(),n=Object(s.useState)([]),t=Object(c.a)(n,2),r=t[0],b=t[1],O=Object(s.useContext)(f.b).setUserData;function g(){return(g=Object(a.a)(i.a.mark((function n(t){var r,a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={email:t.email,password:t.password},n.prev=1,n.next=4,Object(p.f)(r);case 4:404===(a=n.sent).status?b({error:a.message}):(O(a),e("/catalog")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}return Object(j.jsx)("section",{className:"login",children:Object(j.jsxs)("div",{className:"login-box",children:[Object(j.jsx)("h1",{children:"Login"}),Object(j.jsx)("p",{className:"login-untertitle",children:"Please enter your email and password."}),Object(j.jsx)(d.d,{initialValues:{username:"",email:"",password:"",rePass:""},validationSchema:h.c,onSubmit:function(e){return g.apply(this,arguments)},children:Object(j.jsxs)(d.c,{className:"login-form",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)(d.b,{type:"email",id:"email",name:"email","data-testid":"email"}),Object(j.jsx)(d.a,{"data-testid":"error-email",name:"email",component:l.a}),Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)(d.b,{type:"password",id:"password",name:"password","data-testid":"password"}),Object(j.jsx)(d.a,{name:"password",component:l.a}),Object(j.jsx)("input",{type:"submit",className:"loginBtn",value:"Login","data-testid":"login-btn"})]})}),void 0!==r.error?Object(j.jsx)(m.a,{serverError:r.error}):"",Object(j.jsx)("div",{className:"signup",children:Object(j.jsxs)("p",{children:["Dont have an account? ",Object(j.jsx)(u.b,{to:"/register",children:"Sign up"}),"."]})})]})})}},36:function(e,n,t){e.exports={errors:"Notification_errors__1zoI8"}},45:function(e,n,t){"use strict";t.d(n,"d",(function(){return a})),t.d(n,"c",(function(){return c})),t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return o}));var r=t(56),i=/^[\w-]+@([\w-]+\.)+[\w-]{2,4}$/,a=r.c().shape({username:r.e().min(5).max(20).required("Username is required!"),email:r.e().email("Wrong email").matches(i,"Invalid Email!").required("Email is required!"),password:r.e().min(4).max(15).required("Password is required!"),rePass:r.e().oneOf([r.d("password"),null],"Password must match!")}),c=r.c().shape({email:r.e().email("Wrong email").matches(i,"Invalid Email!").required("Email is required!"),password:r.e().min(4).max(15).required("Password is required!")}),s=r.c().shape({message:r.e().min(10,"Minimum 10 character!").max(500,"Maximum 500 character!").required("")}),o=r.c().shape({username:r.e().min(4).max(15).required("Name is required!"),comment:r.e().min(5,"Minimum 5 character!").max(500,"Maximum 500 character!").required("")})},80:function(e,n,t){}}]);
//# sourceMappingURL=13.43baee46.chunk.js.map