(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{20:function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"g",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"k",(function(){return l})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return p}));var r="https://iwanttohave.herokuapp.com/api";function c(){return fetch("".concat(r,"/products")).then((function(t){return t.json()}))}function i(t){return fetch("".concat(r,"/products/").concat(t)).then((function(t){return t.json()}))}function o(t){return fetch("".concat(r,"/products/details/")+t).then((function(t){return t.json()}))}function a(t){return fetch("".concat(r,"/products/create"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(t){return t.json()}))}function s(t){return fetch("".concat(r,"/products/createComment"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(t){return t.json()}))}function u(t){return fetch("".concat(r,"/products/details/comments/")+t).then((function(t){return t.json()}))}function l(t,e){return fetch("".concat(r,"/products/edit/")+t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(t){return t.json()}))}function d(t){return fetch("".concat(r,"/products/deleteArt/")+t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(t){return t.json()}))}function f(t){return fetch("".concat(r,"/products/likeArt"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(t){return t.json()}))}function h(t){return fetch("".concat(r,"/products/userArticles/")+t).then((function(t){return t.json()}))}function p(t){return fetch("".concat(r,"/products/userLikedCreatedArt/")+t).then((function(t){return t.json()}))}},24:function(t,e,n){t.exports=n(76)},25:function(t,e,n){"use strict";function r(t,e,n,r,c,i,o){try{var a=t[i](o),s=a.value}catch(u){return void n(u)}a.done?e(s):Promise.resolve(s).then(r,c)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(c,i){var o=t.apply(e,n);function a(t){r(o,c,i,a,s,"next",t)}function s(t){r(o,c,i,a,s,"throw",t)}a(void 0)}))}}n.d(e,"a",(function(){return c}))},28:function(t,e,n){},30:function(t,e,n){"use strict";n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"i",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"j",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"b",(function(){return h}));var r="https://iwanttohave.herokuapp.com/api";function c(t){return fetch("".concat(r,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(t){return t.json()}))}function i(t){return fetch("".concat(r,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(t){return t.json()}))}function o(){return fetch("".concat(r,"/auth/logout"),{method:"GET",credentials:"include"})}function a(t){return fetch("".concat(r,"/auth/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(t){return t.json()}))}function s(t){return fetch("".concat(r,"/auth/getUserMessages/")+t,{credentials:"include"}).then((function(t){return t.json()}))}function u(t,e){return fetch("".concat(r,"/auth/getAllMessagesForCurrentArticle/")+t+"/"+e,{credentials:"include"}).then((function(t){return t.json()}))}function l(t,e,n){return fetch("".concat(r,"/auth/deleteDiscussion"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({artId:t,recieverId:e,senderId:n})}).then((function(t){return t.json()}))}function d(t){return fetch("".concat(r,"/upload/uploadUserImg"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:t})}).then((function(t){return t.json()})).then((function(t){return 200===t.status?window.location.reload():""}))}function f(){return fetch("".concat(r,"/upload/loadImages"),{method:"GET",credentials:"include"}).then((function(t){return t.json()}))}function h(t){return fetch("".concat(r,"/upload/deleteImage/")+t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(t){return t.json()})).then((function(t){return 200===t.status?window.location.reload():""}))}},31:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(0),n(28);var r=n(1);function c(){return Object(r.jsxs)("div",{className:"lds-spinner",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})}},314:function(t,e,n){},315:function(t,e,n){},316:function(t,e,n){},324:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return g}));var r=n(24),c=n.n(r),i=n(25),o=n(4),a=n(0);function s(t){var e=t.split("T");return e[0]+" / "+e[1].slice(0,-5)}n(314);var u=n(1);function l(t){var e=t.recMesg,n=s(e.date);return Object(u.jsxs)("div",{className:"chat-msg-box-me",children:[Object(u.jsx)("div",{className:"chat-avatar-me",children:Object(u.jsx)("h4",{className:"chat-av-me",children:"Me"})}),Object(u.jsx)("p",{className:"chat-message-me",children:e.msg}),Object(u.jsx)("div",{className:"msg-time",children:n})]})}n(315);function d(t){var e=t.recMesg,n=s(e.date),r=e.username.slice(0,2).toUpperCase();return Object(u.jsxs)("div",{className:"chat-msg-box",children:[Object(u.jsx)("div",{className:"chat-avatar",children:Object(u.jsx)("h4",{className:"chat-av-name",children:r})}),Object(u.jsx)("p",{className:"chat-message",children:e.msg}),Object(u.jsx)("div",{className:"msg-time",children:n})]})}var f=n(99),h=n(30),p=n(2),j=n(20),m=n(9),v=(n(316),n(31));function g(){var t,e,n=Object(a.useContext)(m.b).userData,r=Object(p.i)([]),s=r.artId,g=r.senderId,b=Object(p.h)(),y=Object(a.useState)(),O=Object(o.a)(y,2),x=O[0],w=O[1],N=Object(a.useState)(),S=Object(o.a)(N,2),T=S[0],L=S[1],E=Object(a.useState)([]),I=Object(o.a)(E,2),k=I[0],P=I[1],C=Object(a.useState)(!1),_=Object(o.a)(C,2),J=_[0],D=_[1],G=Object(a.useState)({}),A=Object(o.a)(G,2),F=A[0],M=A[1],R=Object(a.useState)(!1),Y=Object(o.a)(R,2),U=Y[0],z=Y[1];function $(){return($=Object(i.a)(c.a.mark((function t(e){var r,i,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!((r=Object.fromEntries(new FormData(e.target))).message.length>5)){t.next=17;break}return i={username:n.username,mail:n.email,message:r.message,ownerId:g,userId:n._id,articleId:T._id},D(!1),t.prev=5,t.next=8,Object(h.i)(i);case 8:200===(o=t.sent).status&&(P({message:o.message}),M(o.msgId),D(!0),e.target.reset()),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),P(t.t0.message);case 15:t.next=19;break;case 17:D(!1),P({err:"The message must be large than 5 characters!"});case 19:case"end":return t.stop()}}),t,null,[[5,12]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){z(!1),Object(h.c)(s,g).then((function(t){200===t.status&&(w(t),z(!0))})).catch((function(t){console.log(t)}))}),[s,g,F]),Object(a.useEffect)((function(){z(!1),Object(j.h)(s).then((function(t){L(t.article),z(!0)})).catch((function(t){console.log(t.message)}))}),[s]),U?Object(u.jsxs)("div",{className:"discussion-container",children:[Object(u.jsxs)("div",{className:"discussion-article-info-img",children:[Object(u.jsx)("h3",{className:"discussion-article-info-title",children:"Article-Info"}),Object(u.jsx)("div",{className:"discussion-art-img",children:Object(u.jsx)("img",{src:null===T||void 0===T?void 0:T.image,alt:"artImage"})}),Object(u.jsx)("div",{className:"discussion-art-info",children:Object(u.jsxs)("ul",{className:"discussion-ul-items",children:[Object(u.jsxs)("li",{children:["City - ",null===T||void 0===T?void 0:T.city]}),Object(u.jsxs)("li",{children:["Year - ",(null===T||void 0===T?void 0:T.year)||(null===T||void 0===T?void 0:T.birthday)]}),Object(u.jsxs)("li",{children:["Likes - ",null===T||void 0===T||null===(t=T.liked)||void 0===t?void 0:t.length]}),Object(u.jsxs)("li",{children:["Price - ",null===T||void 0===T?void 0:T.price,"$"]})]})})]}),Object(u.jsxs)("div",{className:"chat-msg-container",children:[Object(u.jsx)("h3",{className:"dsc-chat-msg-title",children:"Chat"}),Object(u.jsx)("div",{className:"my-msg-stra",children:(null===x||void 0===x||null===(e=x.infoData)||void 0===e?void 0:e.length)>0?null===x||void 0===x?void 0:x.infoData.map((function(t){return t.myMessage?Object(u.jsx)(l,{recMesg:t},t.messageId):Object(u.jsx)(d,{recMesg:t},t.messageId)})):""}),Object(u.jsxs)("div",{className:"form-msg",children:[Object(u.jsxs)("form",{onSubmit:function(t){return $.apply(this,arguments)},children:[Object(u.jsx)("textarea",{name:"message",id:"txt-area",cols:"70",rows:"4",placeholder:"Your message..."}),Object(u.jsxs)("div",{className:"form-btn",children:[Object(u.jsx)("input",{className:"submit-btn",type:"submit",value:"Send"}),Object(u.jsx)("input",{className:"reset-btn",type:"reset",value:"Reset"})]})]}),J?Object(u.jsx)(f.a,{message:k.message}):Object(u.jsx)("p",{style:{color:"red",fontSize:"12px"},children:k.err})]})]}),Object(u.jsx)("div",{className:"del-discussion",children:Object(u.jsx)("button",{type:"button",onClick:function(){return Object(h.a)(null===x||void 0===x?void 0:x.infoData[0].articleId,null===x||void 0===x?void 0:x.infoData[0].recieverId,null===x||void 0===x?void 0:x.infoData[0].senderId).then((function(t){return 200===t.status?b("/messages/".concat(n._id)):""}))},className:"del-discuss-btn",children:"Remove Discussion"})})]}):Object(u.jsx)(v.a,{})}},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(4),c=n(0),i=n(1);function o(t){var e=t.message,n=t.commentId,o=Object(c.useState)(!1),a=Object(r.a)(o,2),s=a[0],u=a[1];return Object(c.useEffect)((function(){if(e){u(!0);var t=setTimeout((function(){u(!1)}),2e3);return function(){return clearTimeout(t)}}u(!1)}),[n,e]),Object(i.jsx)(i.Fragment,{children:s?Object(i.jsx)("p",{style:{color:"green",fontSize:"12px"},children:e}):""})}},76:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,c="function"===typeof Symbol?Symbol:{},i=c.iterator||"@@iterator",o=c.asyncIterator||"@@asyncIterator",a=c.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(P){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var c=e&&e.prototype instanceof m?e:m,i=Object.create(c.prototype),o=new E(r||[]);return i._invoke=function(t,e,n){var r=d;return function(c,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===c)throw i;return k()}for(n.method=c,n.arg=i;;){var o=n.delegate;if(o){var a=S(o,n);if(a){if(a===j)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(t,e,n);if("normal"===s.type){if(r=n.done?p:f,s.arg===j)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(t,n,o),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",j={};function m(){}function v(){}function g(){}var b={};s(b,i,(function(){return this}));var y=Object.getPrototypeOf,O=y&&y(y(I([])));O&&O!==n&&r.call(O,i)&&(b=O);var x=g.prototype=m.prototype=Object.create(b);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function n(c,i,o,a){var s=l(t[c],t,i);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"===typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,a)}))}a(s.arg)}var c;this._invoke=function(t,r){function i(){return new e((function(e,c){n(t,r,e,c)}))}return c=c?c.then(i,i):i()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return j;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var c=l(r,t.iterator,n.arg);if("throw"===c.type)return n.method="throw",n.arg=c.arg,n.delegate=null,j;var i=c.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,j):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,j)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var c=-1,o=function n(){for(;++c<t.length;)if(r.call(t,c))return n.value=t[c],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:k}}function k(){return{value:e,done:!0}}return v.prototype=g,s(x,"constructor",g),s(g,"constructor",v),v.displayName=s(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,a,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(N.prototype),s(N.prototype,o,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,c,i){void 0===i&&(i=Promise);var o=new N(u(e,n,r,c),i);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(x),s(x,a,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function c(r,c){return a.type="throw",a.arg=t,n.next=r,c&&(n.method="next",n.arg=e),!!c}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return c("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return c(o.catchLoc,!0);if(this.prev<o.finallyLoc)return c(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return c(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return c(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n];if(c.tryLoc<=this.prev&&r.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var i=c;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,j):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),j},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),j}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var c=r.arg;L(n)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),j}},t}(t.exports);try{regeneratorRuntime=r}catch(c){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},99:function(t,e,n){"use strict";var r=n(49);n.d(e,"a",(function(){return r.a}))}}]);
//# sourceMappingURL=6.1aa3c2a2.chunk.js.map