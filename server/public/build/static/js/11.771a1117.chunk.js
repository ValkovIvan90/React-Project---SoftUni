(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{20:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return j})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return h}));var c="https://iwanttohave.herokuapp.com/api";function r(){return fetch("".concat(c,"/products")).then((function(e){return e.json()}))}function i(e){return fetch("".concat(c,"/products/").concat(e)).then((function(e){return e.json()}))}function s(e){return fetch("".concat(c,"/products/details/")+e).then((function(e){return e.json()}))}function a(e){return fetch("".concat(c,"/products/create"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function o(e){return fetch("".concat(c,"/products/createComment"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function u(e){return fetch("".concat(c,"/products/details/comments/")+e).then((function(e){return e.json()}))}function d(e,t){return fetch("".concat(c,"/products/edit/")+e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()}))}function l(e){return fetch("".concat(c,"/products/deleteArt/")+e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))}function j(e){return fetch("".concat(c,"/products/likeArt"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function f(e){return fetch("".concat(c,"/products/userArticles/")+e).then((function(e){return e.json()}))}function h(e){return fetch("".concat(c,"/products/userLikedCreatedArt/")+e).then((function(e){return e.json()}))}},28:function(e,t,n){},30:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return f}));var c="https://iwanttohave.herokuapp.com/api";function r(e){return fetch("".concat(c,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function i(e){return fetch("".concat(c,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function s(){return fetch("".concat(c,"/auth/logout"),{method:"GET",credentials:"include"})}function a(e){return fetch("".concat(c,"/auth/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function o(e){return fetch("".concat(c,"/auth/getUserMessages/")+e,{credentials:"include"}).then((function(e){return e.json()}))}function u(e,t){return fetch("".concat(c,"/auth/getAllMessagesForCurrentArticle/")+e+"/"+t,{credentials:"include"}).then((function(e){return e.json()}))}function d(e,t,n){return fetch("".concat(c,"/auth/deleteDiscussion"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({artId:e,recieverId:t,senderId:n})}).then((function(e){return e.json()}))}function l(e){return fetch("".concat(c,"/upload/uploadUserImg"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:e})}).then((function(e){return e.json()})).then((function(e){return 200===e.status?window.location.reload():""}))}function j(){return fetch("".concat(c,"/upload/loadImages"),{method:"GET",credentials:"include"}).then((function(e){return e.json()}))}function f(e){return fetch("".concat(c,"/upload/deleteImage/")+e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){return 200===e.status?window.location.reload():""}))}},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(0),n(28);var c=n(1);function r(){return Object(c.jsxs)("div",{className:"lds-spinner",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}},311:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var c=n(24),r=n.n(c),i=n(25),s=n(4),a=n(0),o=n(2),u=n(6),d=n(9),l=n(249),j=(n(311),n(59)),f=n(31),h=n(20),b=n(30),O=n(1);function p(){var e=Object(a.useContext)(d.b),t=e.userData,n=e.setUserData,c=Object(o.h)(),p=Object(a.useState)([]),m=Object(s.a)(p,2),x=m[0],g=m[1],v=Object(a.useState)(0),N=Object(s.a)(v,2),y=N[0],S=N[1],T=Object(a.useState)(""),k=Object(s.a)(T,2),C=k[0],w=k[1],A=Object(a.useState)(),I=Object(s.a)(A,2),J=I[0],P=I[1],D=Object(a.useState)(!1),H=Object(s.a)(D,2),E=H[0],L=H[1],_=Object(a.useState)(""),U=Object(s.a)(_,2),M=U[0],B=U[1];function F(){return(F=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.g)();case 2:200!==e.sent.status?console.log("Logout Error"):(n(""),c("/"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){Object(b.e)().then((function(e){B(e.data)})).catch((function(e){console.error(e)}))}),[]),Object(a.useEffect)((function(){L(!1),Object(h.j)(t._id).then((function(e){g(e.article,S(e.userArticle)),L(!0)}))}),[t._id]);return E?Object(O.jsxs)("section",{className:"profile",children:[Object(O.jsxs)("div",{className:"profile-img-liks-section",children:[Object(O.jsx)("div",{className:"profile-img-section",children:M?Object(O.jsx)(l.a,{cloudName:"dkkvehvyx",publicId:M}):Object(O.jsx)("img",{src:"/images/avatar.jpg",alt:"some error"})}),M?Object(O.jsx)("button",{className:"profileDelBtn",type:"button",onClick:function(){return Object(b.b)(t._id)},children:"Delete Image"}):Object(O.jsx)("div",{className:"uploadImg",children:Object(O.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),J){var t=new FileReader;t.readAsDataURL(J),t.onloadend=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.j)(t.result);case 2:case"end":return e.stop()}}),e)}))),t.onerror=function(){console.error("AHHHHHHHH!!")}}},className:"form",children:[Object(O.jsx)("input",{id:"fileInput",type:"file",name:"image",onChange:function(e){var t=e.target.files[0];P(t),w(e.target.value)},value:C,className:"form-input",style:{width:"100%",color:"red",margin:"auto"}}),J?Object(O.jsx)("button",{className:"uploadimage-btn",type:"submit",children:"Submit"}):""]})}),Object(O.jsx)("div",{className:"profile-links-section",children:Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{className:"nav-links",children:[Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/messages/".concat(t._id),children:"Messages"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/messag/".concat(t),children:"Settings"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{className:"logOutBtn",onClick:function(){return F.apply(this,arguments)},children:"Sign out"})})]})})})]}),Object(O.jsxs)("div",{className:"profile-info",children:[Object(O.jsx)("div",{className:"profile-info-user",children:Object(O.jsxs)("div",{className:"user-info",children:[Object(O.jsx)("h1",{className:"user-info-title",children:"User-Info"}),Object(O.jsxs)("p",{className:"user-info-name",children:[Object(O.jsx)("span",{children:"Name"}),"  ",Object(O.jsx)("strong",{className:"data-span",children:t.username})]}),Object(O.jsxs)("p",{className:"user-info-email",children:[Object(O.jsx)("span",{children:"Email"})," ",Object(O.jsx)("strong",{className:"data-span",children:t.email})]}),Object(O.jsxs)("p",{className:"user-info-liked-art",children:[Object(O.jsx)("span",{children:"Created Articles"})," ",Object(O.jsx)("strong",{className:"data-span",children:y})]}),Object(O.jsxs)("p",{className:"user-info-created-art",children:[Object(O.jsx)("span",{children:"Liked Articles"})," ",Object(O.jsx)("strong",{className:"data-span",children:x.length})]})]})}),Object(O.jsxs)("div",{className:"profile-info-article",children:[Object(O.jsx)("h1",{className:"profile-article-title",children:"Last Liked Articles"}),(null===x||void 0===x?void 0:x.length)>0?x.map((function(e){return Object(O.jsx)(j.a,{article:e},e._id)})):Object(O.jsx)("p",{className:"no-liked-art",children:" No liked articles yet!"})]})]})]}):Object(O.jsx)(f.a,{})}},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0),n(75);var c=n(6),r=n(1);function i(e){var t,n=e.article;return Object(r.jsxs)("article",{className:"card",children:[Object(r.jsx)("div",{className:"img",children:Object(r.jsx)("img",{src:n.image,alt:"art"})}),Object(r.jsxs)("article",{className:"info",children:[Object(r.jsx)("div",{className:"card-info city",children:Object(r.jsx)("h4",{children:n.city})}),Object(r.jsx)("div",{className:"card-info date",children:Object(r.jsx)("p",{children:n.createdAt})}),Object(r.jsx)("div",{className:"card-info price",children:Object(r.jsxs)("p",{children:[n.price," $"]})}),Object(r.jsx)("div",{className:"card-info likes",children:Object(r.jsxs)("i",{className:"fas fa-heart",children:[" ",null===(t=n.liked)||void 0===t?void 0:t.length," "]})}),Object(r.jsx)("div",{className:"data-buttons",children:Object(r.jsx)(c.b,{to:"/details/".concat(n._id),className:"details-btn",children:"Details"})})]})]})}},75:function(e,t,n){}}]);
//# sourceMappingURL=11.771a1117.chunk.js.map