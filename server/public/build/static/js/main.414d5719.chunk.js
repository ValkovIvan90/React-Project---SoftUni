(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t,c){e.exports={errors:"Notification_errors__2lEkV"}},134:function(e,t,c){},136:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},250:function(e,t,c){},251:function(e,t,c){},252:function(e,t,c){},253:function(e,t,c){},254:function(e,t,c){},255:function(e,t,c){},258:function(e,t,c){},290:function(e,t,c){},291:function(e,t,c){},292:function(e,t,c){},293:function(e,t,c){},295:function(e,t,c){},296:function(e,t,c){},297:function(e,t,c){},298:function(e,t,c){},299:function(e,t,c){},300:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(79),r=c.n(n),i=(c(134),c(6)),l=c(3),o=function(e,t){var c=Object(a.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(a){return console.log(a),t}})),s=Object(l.a)(c,2),n=s[0],r=s[1];return[n,function(t){try{localStorage.setItem(e,JSON.stringify(t)),r(t)}catch(c){console.log(c)}}]},j=c(0),d=Object(a.createContext)(),m=function(e){var t=e.children,c=o("user",{_id:"",username:"",email:"",token:""}),a=Object(l.a)(c,2),s=a[0],n=a[1];return Object(j.jsx)(d.Provider,{value:{userData:s,setUserData:n},children:t})},u=d,b=Object(a.createContext)(),h=function(e){var t=e.children,c=Object(a.useState)({}),s=Object(l.a)(c,2),n=s[0],r=s[1];return Object(j.jsx)(b.Provider,{value:{currentArt:n,setCurrentArt:r},children:t})},O=b,x=c(4);c(136);function p(){var e=Object(a.useContext)(u).userData;return Object(j.jsxs)("header",{children:[Object(j.jsxs)("article",{className:"logo",children:[Object(j.jsx)("li",{children:Object(j.jsx)(x.b,{to:"/",children:Object(j.jsx)("i",{className:"fas fa-handshake"})})}),Object(j.jsx)("li",{className:"userName",children:Object(j.jsxs)(x.b,{to:"/profile",children:[" ",e.username?"Welcome, ".concat(e.username):""]})}),Object(j.jsxs)("div",{className:"dropdown",children:[Object(j.jsxs)("button",{className:"dropbtn",children:["Category",Object(j.jsx)("i",{className:"fas fa-caret-down"})]}),Object(j.jsxs)("div",{className:"dropdown-content",children:[Object(j.jsx)(x.b,{to:"/catalog",children:"All"}),Object(j.jsx)(x.b,{to:"/catalog?name=animals",children:"Animals"}),Object(j.jsx)(x.b,{to:"/catalog/?name=cars",children:"Cars"}),Object(j.jsx)(x.b,{to:"/catalog/?name=clothes",children:"Clothing"})]})]})]}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"nav",children:[Object(j.jsx)("li",{children:Object(j.jsx)(x.b,{to:"/catalog",children:"Catalog"})}),e.username?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(x.b,{to:"/create",children:"Create"})}),Object(j.jsx)("li",{children:Object(j.jsx)(x.b,{to:"/catalog/?name=myArticles",children:"My Articles"})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(x.b,{to:"/login",children:"Login"})}),Object(j.jsx)("li",{children:Object(j.jsx)(x.b,{to:"/register",children:"Register"})})]})]})})]})}var f=c(9),g=c(10),v=c(15),y=c(16),N=(c(137),function(e){Object(v.a)(c,e);var t=Object(y.a)(c);function c(){return Object(f.a)(this,c),t.apply(this,arguments)}return Object(g.a)(c,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("p",{className:"footer-title",children:"Created by Ivan Valkov for SoftUni \xa9"}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"footer-nav-items",children:[Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",children:Object(j.jsx)("i",{className:"fab fa-instagram"})})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",children:Object(j.jsx)("i",{className:"fab fa-facebook"})})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"https://www.linkedin.com",target:"_blank",rel:"noopener noreferrer",children:Object(j.jsx)("i",{className:"fab fa-linkedin"})})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",children:Object(j.jsx)("i",{className:"fab fa-github-square"})})})]})})]})}}]),c}(a.Component));c(138);function k(){return Object(j.jsxs)("div",{className:"lds-spinner",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}c(139);function w(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1];return setTimeout((function(){s(!0)}),300),c?Object(j.jsxs)("section",{className:"homePage",children:[Object(j.jsx)("article",{className:"homePage-img",children:Object(j.jsx)("img",{src:"images/homepage.jpg",alt:""})}),Object(j.jsx)("article",{className:"home-message",children:Object(j.jsxs)("div",{className:"home-text-box",id:"hm-txt-bx",children:[Object(j.jsx)("h1",{className:"home-message-title",children:"I want to have ... everything"}),Object(j.jsx)("p",{className:"home-message-untertitle",children:"The best free trade page !"})]})})]}):Object(j.jsx)(k,{})}var S=c(121),D=c.n(S),I="https://iwanttohave.herokuapp.com/api";function C(e){return fetch("".concat(I,"/products/details/")+e).then((function(e){return e.json()}))}function q(e){return fetch("".concat(I,"/products/create"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function F(e){return fetch("".concat(I,"/products/createComment"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function P(e,t){return fetch("".concat(I,"/products/edit/")+e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()}))}c(141);function E(e){var t=e.article;return Object(j.jsxs)("article",{className:"card",children:[Object(j.jsx)("div",{className:"img",children:Object(j.jsx)("img",{src:t.image,alt:"art"})}),Object(j.jsxs)("article",{className:"info",children:[Object(j.jsx)("div",{className:"card-info city",children:Object(j.jsx)("h4",{children:t.city})}),Object(j.jsx)("div",{className:"card-info date",children:Object(j.jsx)("p",{children:t.createdAt})}),Object(j.jsx)("div",{className:"card-info price",children:Object(j.jsxs)("p",{children:[t.price," $"]})}),Object(j.jsx)("div",{className:"card-info likes",children:Object(j.jsxs)("i",{className:"fas fa-heart",children:[" ",t.liked.length," "]})}),Object(j.jsx)("div",{className:"data-buttons",children:Object(j.jsx)(x.b,{to:"/details/".concat(t._id),className:"details-btn",children:"Details"})})]})]})}c(142);function T(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),r=Object(l.a)(n,2),o=r[0],d=r[1],m=Object(i.g)().search,b=D.a.parse(m).name,h=Object(a.useContext)(u).userData;return Object(a.useEffect)((function(){var e,t;return d(!1),"clothes"===b||"animals"===b||"cars"===b?(t=b,fetch("".concat(I,"/products/").concat(t)).then((function(e){return e.json()}))).then((function(e){s(e.article),d(!0)})).catch((function(e){console.log(e.message)})):"myArticles"===b?(e=h._id,fetch("".concat(I,"/products/userArticles/")+e).then((function(e){return e.json()}))).then((function(e){s(e.article),d(!0)})).catch((function(e){console.log(e.message)})):fetch("".concat(I,"/products")).then((function(e){return e.json()})).then((function(e){s(e.article),d(!0)})).catch((function(e){console.log(e.message)})),function(){s([])}}),[b,h._id]),Object(j.jsxs)("section",{className:"catalog",children:[Object(j.jsx)("h1",{className:"catalog-title",children:"All added Articles"}),Object(j.jsx)("article",{className:"cards",children:o?(null===c||void 0===c?void 0:c.length)>0?c.map((function(e){return Object(j.jsx)(E,{article:e},e._id)})):Object(j.jsx)("h1",{className:"sv-msg",children:"No added articles"}):Object(j.jsx)(k,{})})]})}var A=c(7),_=c.n(A),M=c(12),z=c(122),L=(c(250),"https://iwanttohave.herokuapp.com/api");function U(e){return fetch("".concat(L,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function J(e){return fetch("".concat(L,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function H(){return fetch("".concat(L,"/auth/logout"),{method:"GET",credentials:"include"})}function B(e){return fetch("".concat(L,"/auth/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function R(){var e=Object(a.useContext)(u),t=e.userData,c=e.setUserData,s=Object(i.h)(),n=Object(a.useState)([]),r=Object(l.a)(n,2),o=r[0],d=r[1],m=Object(a.useState)(0),b=Object(l.a)(m,2),h=b[0],O=b[1],p=Object(a.useState)(""),f=Object(l.a)(p,2),g=f[0],v=f[1],y=Object(a.useState)(),N=Object(l.a)(y,2),w=N[0],S=N[1],D=Object(a.useState)(!1),C=Object(l.a)(D,2),q=C[0],F=C[1],P=Object(a.useState)(""),T=Object(l.a)(P,2),A=T[0],U=T[1];function J(){return(J=Object(M.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:200!==e.sent.status?console.log("Logout Error"):(c(""),s("/"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){fetch("".concat(L,"/upload/loadImages"),{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){U(e.data)})).catch((function(e){console.error(e)}))}),[]),Object(a.useEffect)((function(){var e;F(!1),(e=t._id,fetch("".concat(I,"/products/userLikedCreatedArt/")+e).then((function(e){return e.json()}))).then((function(e){d(e.article,O(e.userArticle)),F(!0)}))}),[t._id]);return q?Object(j.jsxs)("section",{className:"profile",children:[Object(j.jsxs)("div",{className:"profile-img-liks-section",children:[Object(j.jsx)("div",{className:"profile-img-section",children:A?Object(j.jsx)(z.a,{cloudName:"dkkvehvyx",publicId:A}):Object(j.jsx)("img",{src:"/images/avatar.jpg",alt:"some error"})}),A?Object(j.jsx)("button",{className:"profileDelBtn",type:"button",onClick:function(){return e=t._id,fetch("".concat(L,"/upload/deleteImage/")+e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){return 200===e.status?window.location.reload():""}));var e},children:"Delete Image"}):Object(j.jsx)("div",{className:"uploadImg",children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),w){var t=new FileReader;t.readAsDataURL(w),t.onloadend=Object(M.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=t.result,fetch("".concat(L,"/upload/uploadUserImg"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:c})}).then((function(e){return e.json()})).then((function(e){return 200===e.status?window.location.reload():""}));case 2:case"end":return e.stop()}var c}),e)}))),t.onerror=function(){console.error("AHHHHHHHH!!")}}},className:"form",children:[Object(j.jsx)("input",{id:"fileInput",type:"file",name:"image",onChange:function(e){var t=e.target.files[0];S(t),v(e.target.value)},value:g,className:"form-input",style:{width:"100%",color:"red",margin:"auto"}}),Object(j.jsx)("button",{className:"uploadimage-btn",type:"submit",children:"Submit"})]})}),Object(j.jsx)("div",{className:"profile-links-section",children:Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"nav-links",children:[Object(j.jsx)("li",{children:Object(j.jsx)(x.b,{to:"/messages/".concat(t._id),children:"Messages"})}),Object(j.jsx)("li",{children:Object(j.jsx)(x.b,{to:"/messag/".concat(t),children:"Settings"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"logOutBtn",onClick:function(){return J.apply(this,arguments)},children:"Sign out"})})]})})})]}),Object(j.jsxs)("div",{className:"profile-info",children:[Object(j.jsx)("div",{className:"profile-info-user",children:Object(j.jsxs)("div",{className:"user-info",children:[Object(j.jsx)("h1",{className:"user-info-title",children:"User-Info"}),Object(j.jsxs)("p",{className:"user-info-name",children:[Object(j.jsx)("span",{children:"Name"}),"  ",Object(j.jsx)("strong",{className:"data-span",children:t.username})]}),Object(j.jsxs)("p",{className:"user-info-email",children:[Object(j.jsx)("span",{children:"Email"})," ",Object(j.jsx)("strong",{className:"data-span",children:t.email})]}),Object(j.jsxs)("p",{className:"user-info-liked-art",children:[Object(j.jsx)("span",{children:"Created Articles"})," ",Object(j.jsx)("strong",{className:"data-span",children:h})]}),Object(j.jsxs)("p",{className:"user-info-created-art",children:[Object(j.jsx)("span",{children:"Liked Articles"})," ",Object(j.jsx)("strong",{className:"data-span",children:o.length})]})]})}),Object(j.jsxs)("div",{className:"profile-info-article",children:[Object(j.jsx)("h1",{className:"profile-article-title",children:"Last Liked Articles"}),(null===o||void 0===o?void 0:o.length)>0?o.map((function(e){return Object(j.jsx)(E,{article:e},e._id)})):Object(j.jsx)("p",{className:"no-liked-art",children:" No liked articles yet!"})]})]})]}):Object(j.jsx)(k,{})}var V=c(36);c(251);function Y(e){var t=e.data,c=e.currentUser;return Object(j.jsx)("div",{className:"msg-container",children:Object(j.jsxs)("div",{className:"msg-box",children:[Object(j.jsxs)("div",{className:"time-author",children:[t.userInfo.senderId===c?Object(j.jsx)("h3",{className:"msg-box-author",style:{color:"red"},children:"Me"}):Object(j.jsx)("h3",{className:"msg-box-author",children:t.userInfo.username}),Object(j.jsx)("p",{className:"msg-time",children:t.userInfo.time})]}),Object(j.jsxs)("div",{className:"msg-box-content",children:[Object(j.jsx)("div",{className:"msg-box-img",children:Object(j.jsx)("img",{src:t.artData.image,alt:"article-img"})}),Object(j.jsx)("div",{className:"msg-box-message",children:Object(j.jsx)("p",{className:"msg-box-message-content",children:t.userInfo.msg})}),Object(j.jsx)("div",{className:"msg-card-btn",children:Object(j.jsx)(x.b,{to:"/messages/".concat(t.artData.owner,"/").concat(t.artData._id,"/").concat(t.userInfo.senderId===c?t.userInfo.recieverId:t.userInfo.senderId),children:"more"})})]})]})})}c(252);function $(){var e,t=Object(i.i)().userId,c=Object(a.useState)([]),s=Object(l.a)(c,2),n=s[0],r=s[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),m=d[0],u=d[1];return Object(a.useEffect)((function(){u(!1),function(e){return fetch("".concat(L,"/auth/getUserMessages/")+e,{credentials:"include"}).then((function(e){return e.json()}))}(t).then((function(e){r((function(t){return Object(V.a)(Object(V.a)({},t),{},{info:e.dataInfo})})),u(!0)})).catch((function(e){console.log(e.message)}))}),[t]),m?Object(j.jsxs)("div",{className:"message-conrainer",children:[Object(j.jsx)("h1",{className:"message-container-title",children:"Messages"}),(null===(e=n.info)||void 0===e?void 0:e.length)>0?n.info.map((function(e){return Object(j.jsx)(Y,{data:e,currentUser:t},e.documentId)})):Object(j.jsx)("h1",{className:"sv-msg",children:"No Messages yet"})]}):Object(j.jsx)(k,{})}function W(e){var t=e.split("T");return t[0]+" / "+t[1].slice(0,-5)}c(253);function G(e){var t=e.recMesg,c=W(t.date);return Object(j.jsxs)("div",{className:"chat-msg-box-me",children:[Object(j.jsx)("div",{className:"chat-avatar-me",children:Object(j.jsx)("h4",{className:"chat-av-me",children:"Me"})}),Object(j.jsx)("p",{className:"chat-message-me",children:t.msg}),Object(j.jsx)("div",{className:"msg-time",children:c})]})}c(254);function K(e){var t=e.recMesg,c=W(t.date),a=t.username.slice(0,2).toUpperCase();return Object(j.jsxs)("div",{className:"chat-msg-box",children:[Object(j.jsx)("div",{className:"chat-avatar",children:Object(j.jsx)("h4",{className:"chat-av-name",children:a})}),Object(j.jsx)("p",{className:"chat-message",children:t.msg}),Object(j.jsx)("div",{className:"msg-time",children:c})]})}function Q(e){var t=e.message,c=e.commentId,s=Object(a.useState)(!1),n=Object(l.a)(s,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){if(t){i(!0);var e=setTimeout((function(){i(!1)}),2e3);return function(){return clearTimeout(e)}}i(!1)}),[c,t]),Object(j.jsx)(j.Fragment,{children:r?Object(j.jsx)("p",{style:{color:"green",fontSize:"12px"},children:t}):""})}c(255);function X(){var e,t,c=Object(a.useContext)(u).userData,s=Object(i.i)([]),n=s.artId,r=s.senderId,o=Object(i.h)(),d=Object(a.useState)(),m=Object(l.a)(d,2),b=m[0],h=m[1],O=Object(a.useState)(),x=Object(l.a)(O,2),p=x[0],f=x[1],g=Object(a.useState)([]),v=Object(l.a)(g,2),y=v[0],N=v[1],w=Object(a.useState)(!1),S=Object(l.a)(w,2),D=S[0],I=S[1],q=Object(a.useState)({}),F=Object(l.a)(q,2),P=F[0],E=F[1],T=Object(a.useState)(!1),A=Object(l.a)(T,2),z=A[0],U=A[1];function J(){return(J=Object(M.a)(_.a.mark((function e(t){var a,s,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((a=Object.fromEntries(new FormData(t.target))).message.length>5)){e.next=17;break}return s={username:c.username,mail:c.email,message:a.message,ownerId:r,userId:c._id,articleId:p._id},I(!1),e.prev=5,e.next=8,B(s);case 8:200===(n=e.sent).status&&(N({message:n.message}),E(n.msgId),I(!0),t.target.reset()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),N(e.t0.message);case 15:e.next=19;break;case 17:I(!1),N({err:"The message must be large than 5 characters!"});case 19:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){U(!1),function(e,t){return fetch("".concat(L,"/auth/getAllMessagesForCurrentArticle/")+e+"/"+t,{credentials:"include"}).then((function(e){return e.json()}))}(n,r).then((function(e){200===e.status&&(h(e),U(!0))})).catch((function(e){console.log(e)}))}),[n,r,P]),Object(a.useEffect)((function(){U(!1),C(n).then((function(e){f(e.article),U(!0)})).catch((function(e){console.log(e.message)}))}),[n]),z?Object(j.jsxs)("div",{className:"discussion-container",children:[Object(j.jsxs)("div",{className:"discussion-article-info-img",children:[Object(j.jsx)("h3",{className:"discussion-article-info-title",children:"Article-Info"}),Object(j.jsx)("div",{className:"discussion-art-img",children:Object(j.jsx)("img",{src:null===p||void 0===p?void 0:p.image,alt:"artImage"})}),Object(j.jsx)("div",{className:"discussion-art-info",children:Object(j.jsxs)("ul",{className:"discussion-ul-items",children:[Object(j.jsxs)("li",{children:["City - ",null===p||void 0===p?void 0:p.city]}),Object(j.jsxs)("li",{children:["Year - ",(null===p||void 0===p?void 0:p.year)||(null===p||void 0===p?void 0:p.birthday)]}),Object(j.jsxs)("li",{children:["Likes - ",null===p||void 0===p||null===(e=p.liked)||void 0===e?void 0:e.length]}),Object(j.jsxs)("li",{children:["Price - ",null===p||void 0===p?void 0:p.price,"$"]})]})})]}),Object(j.jsxs)("div",{className:"chat-msg-container",children:[Object(j.jsx)("h3",{className:"dsc-chat-msg-title",children:"Chat"}),Object(j.jsx)("div",{className:"my-msg-stra",children:(null===b||void 0===b||null===(t=b.infoData)||void 0===t?void 0:t.length)>0?null===b||void 0===b?void 0:b.infoData.map((function(e){return e.myMessage?Object(j.jsx)(G,{recMesg:e},e.messageId):Object(j.jsx)(K,{recMesg:e},e.messageId)})):""}),Object(j.jsxs)("div",{className:"form-msg",children:[Object(j.jsxs)("form",{onSubmit:function(e){return J.apply(this,arguments)},children:[Object(j.jsx)("textarea",{name:"message",id:"txt-area",cols:"70",rows:"4",placeholder:"Your message..."}),Object(j.jsxs)("div",{className:"form-btn",children:[Object(j.jsx)("input",{className:"submit-btn",type:"submit",value:"Send"}),Object(j.jsx)("input",{className:"reset-btn",type:"reset",value:"Reset"})]})]}),D?Object(j.jsx)(Q,{message:y.message}):Object(j.jsx)("p",{style:{color:"red",fontSize:"12px"},children:y.err})]})]}),Object(j.jsx)("div",{className:"del-discussion",children:Object(j.jsx)("button",{type:"button",onClick:function(){return function(e,t,c){return fetch("".concat(L,"/auth/deleteDiscussion"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({artId:e,recieverId:t,senderId:c})}).then((function(e){return e.json()}))}(null===b||void 0===b?void 0:b.infoData[0].articleId,null===b||void 0===b?void 0:b.infoData[0].recieverId,null===b||void 0===b?void 0:b.infoData[0].senderId).then((function(e){return 200===e.status?o("/messages/".concat(c._id)):""}))},className:"del-discuss-btn",children:"Remove Discussion"})})]}):Object(j.jsx)(k,{})}function Z(){return Object(a.useContext)(u).userData?Object(j.jsx)(i.b,{}):Object(j.jsx)(i.a,{to:"/login"})}var ee=c(2),te=c(125),ce=c.n(te);function ae(e){return Object(j.jsx)("div",{className:ce.a.errors,children:Object(j.jsx)("p",{children:e.children})})}c(258);function se(e){var t=Object(a.useState)(!1),c=Object(l.a)(t,2),s=c[0],n=c[1];return Object(a.useEffect)((function(){if(e.serverError){n(!0);var t=setTimeout((function(){n(!1)}),5e3);return function(){return clearTimeout(t)}}n(!1)}),[e]),Object(j.jsx)(j.Fragment,{children:s?Object(j.jsx)("p",{className:"rgsServError",children:e.serverError}):""})}var ne=c(5),re=/^[\w-]+@([\w-]+\.)+[\w-]{2,4}$/,ie=ne.c().shape({username:ne.e().min(5).max(20).required("Username is required!"),email:ne.e().email("Wrong email").matches(re,"Invalid Email!").required("Email is required!"),password:ne.e().min(4).max(15).required("Password is required!"),rePass:ne.e().oneOf([ne.d("password"),null],"Password must match!")}),le=ne.c().shape({email:ne.e().email("Wrong email").matches(re,"Invalid Email!").required("Email is required!"),password:ne.e().min(4).max(15).required("Password is required!")}),oe=ne.c().shape({message:ne.e().min(10,"Minimum 10 character!").max(500,"Maximum 500 character!").required("")}),je=ne.c().shape({username:ne.e().min(4).max(15).required("Name is required!"),comment:ne.e().min(5,"Minimum 5 character!").max(500,"Maximum 500 character!").required("")});c(290);function de(){var e=Object(i.h)(),t=Object(a.useState)([]),c=Object(l.a)(t,2),s=c[0],n=c[1],r=Object(a.useContext)(u).setUserData;function o(){return(o=Object(M.a)(_.a.mark((function t(c){var a,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={email:c.email,password:c.password},t.prev=1,t.next=4,J(a);case 4:404===(s=t.sent).status?n({error:s.message}):(r(s),e("/catalog")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(j.jsx)("section",{className:"login",children:Object(j.jsxs)("div",{className:"login-box",children:[Object(j.jsx)("h1",{children:"Login"}),Object(j.jsx)("p",{className:"login-untertitle",children:"Please enter your email and password."}),Object(j.jsx)(ee.d,{initialValues:{username:"",email:"",password:"",rePass:""},validationSchema:le,onSubmit:function(e){return o.apply(this,arguments)},children:Object(j.jsxs)(ee.c,{className:"login-form",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)(ee.b,{type:"email",id:"email",name:"email"}),Object(j.jsx)(ee.a,{name:"email",component:ae}),Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)(ee.b,{type:"password",id:"password",name:"password"}),Object(j.jsx)(ee.a,{name:"password",component:ae}),Object(j.jsx)("input",{type:"submit",className:"loginBtn",value:"Login"})]})}),void 0!==s.error?Object(j.jsx)(se,{serverError:s.error}):"",Object(j.jsx)("div",{className:"signup",children:Object(j.jsxs)("p",{children:["Dont have an account? ",Object(j.jsx)(x.b,{to:"/register",children:"Sign up"}),"."]})})]})})}c(291);function me(){var e=Object(i.h)(),t=Object(a.useState)([]),c=Object(l.a)(t,2),s=c[0],n=c[1],r=Object(a.useContext)(u).setUserData;function o(){return(o=Object(M.a)(_.a.mark((function t(c){var a,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={username:c.username,email:c.email,password:c.password,rePass:c.rePass},t.prev=1,t.next=4,U(a);case 4:404===(s=t.sent).status?n({error:s.message}):(r(s),e("/catalog")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(j.jsx)("section",{className:"register",children:Object(j.jsxs)("div",{className:"register-box",children:[Object(j.jsx)("h1",{className:"register-box-title",children:"Register"}),Object(j.jsx)("p",{className:"register-untertitle",children:"Please fill in this form to create an account."}),Object(j.jsx)(ee.d,{initialValues:{username:"",email:"",password:"",rePass:""},validationSchema:ie,onSubmit:function(e){return o.apply(this,arguments)},children:Object(j.jsxs)(ee.c,{className:"register-form",children:[Object(j.jsx)("label",{htmlFor:"username",children:"Name"}),Object(j.jsx)(ee.b,{type:"text",id:"text",name:"username"}),Object(j.jsx)(ee.a,{name:"username",component:ae}),Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)(ee.b,{type:"email",id:"email",name:"email"}),Object(j.jsx)(ee.a,{name:"email",component:ae}),Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)(ee.b,{type:"password",id:"password",name:"password"}),Object(j.jsx)(ee.a,{name:"password",component:ae}),Object(j.jsx)("label",{htmlFor:"rePass",children:"Confirm-Password"}),Object(j.jsx)(ee.b,{type:"password",id:"rePass",name:"rePass"}),Object(j.jsx)(ee.a,{name:"rePass",component:ae}),Object(j.jsx)("input",{type:"submit",className:"registerbtn",value:"Register"})]})}),void 0!==s.error?Object(j.jsx)(se,{serverError:s.error}):"",Object(j.jsx)("div",{className:"signin",children:Object(j.jsxs)("p",{children:["Already have an account?",Object(j.jsx)(x.b,{to:"/login",children:"Sign in"}),"."]})})]})})}c(292);function ue(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"wrong-page",children:[Object(j.jsx)("img",{className:"not-found-img",src:"images/notfound.png",alt:"not-found-page"}),Object(j.jsx)("h2",{className:"wrong-page-title",children:"Page not found"})]})})}c(293);var be=ne.c().shape({marke:ne.e().required("Marke is required!"),model:ne.e().required("Model is required!"),year:ne.a("Invalid Date!").min(1950).max(2021).required("Date is required!"),city:ne.e().required("City is required!"),image:ne.e().matches(/^https?:\/\//,["The Home Image should starts with http:// or https://."]).required("Image is required!"),price:ne.b("Price must be positive number!").min(1).required("Price is required!"),description:ne.e().required("Description is required!").max(1e3,"Description should be a maximum of 1000 characters long")}),he=ne.c().shape({animalName:ne.e().min(4).max(15).required("Name is required!"),type:ne.e().required("Type is required!"),birthday:ne.a().min(1960).max(2021).required("Date is required!"),city:ne.e().required("City is required!"),image:ne.e().matches(/^https?:\/\//,["The Home Image should starts with http:// or https://."]).required("Image is required!"),price:ne.b("Price must be positive number!").min(1).required("Price is required!"),description:ne.e().required("Description is required!").max(1e3,"Description should be a maximum of 1000 characters long")}),Oe=ne.c().shape({marke:ne.e().max(15).required("Marke is required!"),type:ne.e().required("Type is required!"),size:ne.e().required("Size is required!"),year:ne.a().min(1960).max(2021).required("Date is required!"),city:ne.e().required("City is required!"),image:ne.e().matches(/^https?:\/\//,["The Home Image should starts with http:// or https://."]).required("Image is required!"),price:ne.b("Price must be positive number!").min(1).required("Price is required!"),description:ne.e().required("Description is required!").max(1e3,"Description should be a maximum of 1000 characters long")});function xe(e){var t=e.data;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{htmlFor:"city",children:"City"}),Object(j.jsx)(ee.b,{type:"text",id:"city",name:"city"}),Object(j.jsx)(ee.a,{name:"city",component:ae}),Object(j.jsx)("label",{htmlFor:"image",children:"Image"}),Object(j.jsx)(ee.b,{type:"text",id:"image",name:"image",placeholder:"Please use the URL address of the selected picture!"}),Object(j.jsx)(ee.a,{name:"image",component:ae}),Object(j.jsx)("label",{htmlFor:"price",children:"Price"}),Object(j.jsx)(ee.b,{type:"number",id:"price",name:"price"}),Object(j.jsx)(ee.a,{name:"price",component:ae}),Object(j.jsx)("label",{htmlFor:"description",children:"Description"}),Object(j.jsx)(ee.b,{as:"textarea",id:"description",name:"description",rows:"4",cols:"50"}),Object(j.jsx)(ee.a,{name:"description",component:ae}),t.price?Object(j.jsx)("input",{type:"submit",className:"createArtBtn",value:"Edit Article"}):Object(j.jsx)("input",{type:"submit",className:"createArtBtn",value:"Create Article"})]})}function pe(e){var t=function(e){return e.artData?{animalName:e.artData.animalName,type:e.artData.type,birthday:e.artData.birthday,city:e.artData.city,image:e.artData.image,price:e.artData.price,description:e.artData.description}:{animalName:"",type:"",birthday:"",city:"",image:"",price:"",description:""}}(e),c=Object(i.h)(),a=function(){var e=Object(M.a)(_.a.mark((function e(t){var a,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={animalName:t.animalName,type:t.type,birthday:t.birthday,city:t.city,image:t.image,price:t.price,description:t.description,category:"animals"},e.prev=1,e.next=4,q(a);case 4:if(404!==(s=e.sent).status){e.next=9;break}throw new Error(s.message);case 9:c("/catalog");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var t=Object(M.a)(_.a.mark((function t(a){var s,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={animalName:a.animalName,type:a.type,birthday:a.birthday,city:a.city,image:a.image,price:a.price,description:a.description,category:"animals"},t.prev=1,t.next=4,P(e.artId,s);case 4:if(404!==(n=t.sent).status){t.next=9;break}throw new Error(n.message);case 9:c("/catalog");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(ee.d,{initialValues:t,validationSchema:he,onSubmit:t.price?s:a,children:Object(j.jsxs)(ee.c,{children:[Object(j.jsx)("label",{htmlFor:"animalName",children:"Name"}),Object(j.jsx)(ee.b,{type:"text",id:"animalName",name:"animalName"}),Object(j.jsx)(ee.a,{name:"animalName",component:ae}),Object(j.jsx)("label",{htmlFor:"type",children:"Type"}),Object(j.jsx)(ee.b,{type:"text",id:"type",name:"type"}),Object(j.jsx)(ee.a,{name:"type",component:ae}),Object(j.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),Object(j.jsx)(ee.b,{type:"date",id:"birthday",name:"birthday"}),Object(j.jsx)(ee.a,{name:"birthday",component:ae}),Object(j.jsx)(xe,{data:t})]})})})}function fe(e){var t=function(e){return e.artData?{marke:e.artData.marke,model:e.artData.model,year:e.artData.year,city:e.artData.city,image:e.artData.image,price:e.artData.price,description:e.artData.description}:{marke:"",model:"",year:"",city:"",image:"",price:"",description:""}}(e),c=Object(i.h)(),a=function(){var e=Object(M.a)(_.a.mark((function e(t){var a,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={marke:t.marke,model:t.model,year:t.year,city:t.city,image:t.image,price:t.price,description:t.description,category:"cars"},e.prev=1,e.next=4,q(a);case 4:if(404!==(s=e.sent).status){e.next=9;break}throw new Error(s.message);case 9:c("/catalog");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var t=Object(M.a)(_.a.mark((function t(a){var s,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={marke:a.marke,model:a.model,year:a.year,city:a.city,image:a.image,price:a.price,description:a.description,category:"cars"},t.prev=1,t.next=4,P(e.artId,s);case 4:if(404!==(n=t.sent).status){t.next=9;break}throw new Error(n.message);case 9:c("/catalog");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(ee.d,{initialValues:t,validationSchema:be,onSubmit:t.price?s:a,children:Object(j.jsxs)(ee.c,{children:[Object(j.jsx)("label",{htmlFor:"marke",children:"Marke"}),Object(j.jsx)(ee.b,{type:"text",id:"marke",name:"marke"}),Object(j.jsx)(ee.a,{name:"marke",component:ae}),Object(j.jsx)("label",{htmlFor:"model",children:"Model"}),Object(j.jsx)(ee.b,{type:"text",id:"model",name:"model"}),Object(j.jsx)(ee.a,{name:"model",component:ae}),Object(j.jsx)("label",{htmlFor:"year",children:"Year"}),Object(j.jsx)(ee.b,{type:"date",id:"year",name:"year"}),Object(j.jsx)(ee.a,{name:"year",component:ae}),Object(j.jsx)(xe,{data:t})]})})})}function ge(e){var t=function(e){return e.artData?{marke:e.artData.marke,type:e.artData.type,size:e.artData.size,year:e.artData.year,city:e.artData.city,image:e.artData.image,price:e.artData.price,description:e.artData.description}:{marke:"",type:"",size:"",year:"",city:"",image:"",price:"",description:""}}(e),c=Object(i.h)(),a=function(){var e=Object(M.a)(_.a.mark((function e(t){var a,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={marke:t.marke,type:t.type,size:t.size,year:t.year,city:t.city,image:t.image,price:t.price,description:t.description,category:"clothes"},e.prev=1,e.next=4,q(a);case 4:if(404!==(s=e.sent).status){e.next=9;break}throw new Error(s.message);case 9:c("/catalog");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var t=Object(M.a)(_.a.mark((function t(a){var s,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={marke:a.marke,type:a.type,size:a.size,year:a.year,city:a.city,image:a.image,price:a.price,description:a.description,category:"clothes"},t.prev=1,t.next=4,P(e.artId,s);case 4:if(404!==(n=t.sent).status){t.next=9;break}throw new Error(n.message);case 9:c("/catalog");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(ee.d,{initialValues:t,validationSchema:Oe,onSubmit:t.price?s:a,children:Object(j.jsxs)(ee.c,{children:[Object(j.jsx)("label",{htmlFor:"marke",children:"Marke"}),Object(j.jsx)(ee.b,{type:"text",id:"marke",name:"marke"}),Object(j.jsx)(ee.a,{name:"marke",component:ae}),Object(j.jsx)("label",{htmlFor:"type",children:"Type"}),Object(j.jsx)(ee.b,{type:"text",id:"type",name:"type"}),Object(j.jsx)(ee.a,{name:"type",component:ae}),Object(j.jsx)("label",{htmlFor:"size",children:"Size"}),Object(j.jsx)(ee.b,{type:"string",id:"size",name:"size"}),Object(j.jsx)(ee.a,{name:"size",component:ae}),Object(j.jsx)("label",{htmlFor:"year",children:"Produced on:"}),Object(j.jsx)(ee.b,{type:"date",id:"year",name:"year"}),Object(j.jsx)(ee.a,{name:"year",component:ae}),Object(j.jsx)(xe,{data:t})]})})})}function ve(){var e,t=Object(a.useState)(""),c=Object(l.a)(t,2),s=c[0],n=c[1];return""!==s&&(e={cars:Object(j.jsx)(fe,{}),animals:Object(j.jsx)(pe,{}),clothings:Object(j.jsx)(ge,{})}[s]),Object(j.jsx)("section",{className:"create-article",children:Object(j.jsxs)("div",{className:"create-article-box",children:[Object(j.jsxs)("div",{className:"create-art-text",children:[Object(j.jsx)("h1",{className:"art-title",children:"Create Article"}),Object(j.jsx)("p",{className:"create-art-untertitle",children:"Please fill in this form to create an article."})]}),Object(j.jsxs)("form",{children:[Object(j.jsx)("label",{htmlFor:"category",children:"Choose a category:"}),Object(j.jsxs)("select",{name:"category",id:"category",onChange:function(e){e.preventDefault(),n(e.target.value)},children:[Object(j.jsx)("option",{value:""}),Object(j.jsx)("option",{value:"cars",children:"Cars"}),Object(j.jsx)("option",{value:"animals",children:"Animals"}),Object(j.jsx)("option",{value:"clothings",children:"Clothing"})]})]}),e]})})}var ye=c(129);c(294),c(295),c(296);function Ne(e){var t=e.artOwnerName,c=Object(a.useContext)(O).currentArt,s=Object(a.useContext)(u).userData,n=Object(a.useState)([]),r=Object(l.a)(n,2),i=r[0],o=r[1],d=Object(a.useState)(!1),m=Object(l.a)(d,2),b=m[0],h=m[1];function x(){return(x=Object(M.a)(_.a.mark((function e(t,a){var n,r,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.resetForm,r={username:s.username,mail:s.email,message:t.message,ownerId:c.owner,userId:s._id,articleId:c._id},h(!1),e.prev=3,e.next=6,B(r);case 6:200===(i=e.sent).status&&(o({message:i.message}),h(!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),o(e.t0.message);case 13:n({value:""});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("article",{className:"message-box",children:[Object(j.jsxs)("h4",{className:"box-title",children:["Send message to ",Object(j.jsx)("span",{children:t})]}),Object(j.jsx)(ee.d,{initialValues:{message:""},validationSchema:oe,onSubmit:function(e,t){return x.apply(this,arguments)},children:Object(j.jsxs)(ee.c,{className:"form",children:[Object(j.jsx)("label",{htmlFor:"username",children:"Name"}),Object(j.jsx)(ee.b,{type:"text",id:"text-msg",name:"username",value:s.username}),Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)(ee.b,{type:"email",id:"email-msg",name:"email",value:s.email}),Object(j.jsx)("label",{htmlFor:"message",children:"Message"}),Object(j.jsx)(ee.b,{as:"textarea",id:"message-area",name:"message",rows:"4",cols:"50"}),Object(j.jsx)(ee.a,{name:"message",component:ae}),Object(j.jsxs)("div",{className:"form-btn",children:[Object(j.jsx)("input",{className:"submit-btn",type:"submit",value:"Send"}),Object(j.jsx)("input",{className:"reset-btn",type:"reset",value:"Reset"})]})]})}),b?Object(j.jsx)(Q,{message:i.message}):""]})})}c(297);function ke(e){var t=e.comment;return Object(j.jsxs)("div",{className:"comment-container",children:[Object(j.jsx)("p",{className:"comment title",children:t.username}),Object(j.jsx)("p",{className:"comment text",children:t.comment}),Object(j.jsx)("p",{className:"comment time",children:t.time})]})}c(298);function we(e){var t=e.category,c=Object(a.useContext)(u).userData,s=Object(i.i)().artId,n=Object(a.useState)([]),r=Object(l.a)(n,2),o=r[0],d=r[1],m=Object(a.useState)(!1),b=Object(l.a)(m,2),h=b[0],O=b[1],x=Object(a.useState)(""),p=Object(l.a)(x,2),f=p[0],g=p[1],v=Object(a.useState)(""),y=Object(l.a)(v,2),N=y[0],k=y[1];Object(a.useEffect)((function(){var e;(e=s,fetch("".concat(I,"/products/details/comments/")+e).then((function(e){return e.json()}))).then((function(e){return d(e.comments)})).catch((function(e){console.log(e.message)}))}),[s,f]);var w=function(){var e=Object(M.a)(_.a.mark((function e(c,a){var n,r,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.resetForm,r={artId:s,username:c.username,comment:c.comment,category:t},e.prev=2,e.next=5,F(r);case 5:if(200===(i=e.sent).status){e.next=8;break}throw new Error(i.message);case 8:k(i.message),g(i._id),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0.message);case 15:n({value:""});case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"comments-box",children:[Object(j.jsx)("h2",{className:"comments-title",children:"Comments"}),c.token?Object(j.jsx)(ee.d,{initialValues:{username:"",comment:""},validationSchema:je,onSubmit:w,children:Object(j.jsxs)(ee.c,{className:"comment-form",children:[Object(j.jsx)(ee.b,{type:"text",id:"inp-name",name:"username",placeholder:"Name ..."}),Object(j.jsx)(ee.a,{name:"username",component:ae}),Object(j.jsx)(ee.b,{as:"textarea",id:"comment-area",name:"comment",placeholder:"Comment ...",rows:"4",cols:"100"}),Object(j.jsx)(ee.a,{name:"comment",component:ae}),Object(j.jsx)("input",{type:"submit",id:"cm-submit",value:"Post Comment"})]})}):"",Object(j.jsx)(Q,{message:N,commentId:f}),Object(j.jsxs)("div",{className:"cmt-container",children:[o.length>0?Object(j.jsx)("button",{className:"show-hide-comments",onClick:function(e){e.preventDefault(),O(!h)},children:h?"Hide Comments":"Show Comments"}):"",h?o.map((function(e){return Object(j.jsx)(ke,{comment:e},e._id)})):""]})]})}function Se(){var e,t,c=Object(a.useContext)(u).userData,s=Object(a.useContext)(O).setCurrentArt,n=Object(a.useState)({}),r=Object(l.a)(n,2),o=r[0],d=r[1],m=Object(a.useState)({}),b=Object(l.a)(m,2),h=b[0],p=b[1],f=Object(a.useState)([]),g=Object(l.a)(f,2),v=g[0],y=g[1],N=Object(a.useState)(!1),w=Object(l.a)(N,2),S=w[0],D=w[1],q=Object(i.h)(),F=Object(i.i)().artId;Object(a.useEffect)((function(){C(F).then((function(e){return d(e.article,p(e.owner),y((function(t){return Object(V.a)(Object(V.a)({},t),{},{like:e.article.liked})})))}))}),[F,S]),Object(a.useEffect)((function(){s(o)}),[s,o]);var P=function(){(function(e){return fetch("".concat(I,"/products/likeArt"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))})({artId:F,userId:c._id,category:o.category}).then((function(e){200===e.status&&D(!0),D(!1)})).catch((function(e){console.log(e.message)}))};return o.image?Object(j.jsxs)("section",{className:"details",children:[Object(j.jsx)("h1",{className:"details-title",children:"Details"}),Object(j.jsxs)("article",{className:"details-info",children:[Object(j.jsx)("div",{className:"details-info-img",children:Object(j.jsx)("img",{src:o.image,alt:"img-details"})}),Object(j.jsx)("p",{className:"details-text",children:o.description})]}),Object(j.jsxs)("article",{className:"article-info",children:[Object(j.jsxs)("ul",{className:"art-info-items",children:["animals"===o.category?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Name"}),"  ",o.animalName]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Type"}),"  ",o.type]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Birthday"}),"  ",o.birthday]})]}):"","cars"===o.category?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Marke"}),"  ",o.marke]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Model"}),"  ",o.model]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Year"}),"  ",o.year]})]}):"","clothes"===o.category?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Marke"}),"  ",o.marke]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Type"}),"  ",o.type]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Year"}),"  ",o.year]})]}):"",Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Category"}),"  ",o.category]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"City"}),"  ",o.city]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Date of publication"}),"  ",o.createdAt]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Price"}),"  $",o.price]}),c.token?Object(j.jsxs)("div",{className:"seler-info",children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Seller"}),"  ",h.username]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Email"}),"  ",h.email]})]}):""]}),c.token&&c._id!==h._id?Object(j.jsx)(Ne,{artOwnerName:h.username}):""]}),Object(j.jsx)("article",{className:"likes-dtl",children:Object(j.jsxs)("p",{className:"likes-count",children:["Likes ",null===(e=v.like)||void 0===e?void 0:e.length]})}),c.token?Object(j.jsxs)("article",{className:"buttons",children:[c._id===o.owner?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.b,{to:"/edit/".concat(F),className:"button edit",children:"Edit"}),Object(j.jsx)(x.b,{to:"#",onClick:function(){return function(e){Object(ye.confirmAlert)({title:"Confirm to submit",message:"Are you sure to do this.",buttons:[{label:"Yes",onClick:function(){var t=Object(M.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(c=e,fetch("".concat(I,"/products/deleteArt/")+c,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))).then((function(e){if(200!==e.status)throw new Error("Failed to delete!");q("/catalog")}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}var c}),t)})));return function(){return t.apply(this,arguments)}}()},{label:"No"}]})}(F)},className:"button del",children:"Delete"})]}):(null===(t=v.like)||void 0===t?void 0:t.includes(c._id))?"":Object(j.jsx)(x.b,{to:"#",onClick:function(){return P()},className:"button like",children:"Like"}),Object(j.jsx)(x.b,{to:"/catalog",className:"button back",children:"Back"})]}):Object(j.jsx)("article",{className:"buttons",children:Object(j.jsx)(x.b,{to:"/catalog",className:"button back",children:"Back"})}),Object(j.jsx)(we,{category:o.category})]}):Object(j.jsx)(k,{})}c(299);function De(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(i.i)().artId;Object(a.useEffect)((function(){C(n).then((function(e){return s(e.article)})).catch((function(e){console.log(e.message)}))}),[n]);var r={cars:Object(j.jsx)(fe,{artData:c,artId:n}),animals:Object(j.jsx)(pe,{artData:c,artId:n}),clothes:Object(j.jsx)(ge,{artData:c,artId:n})};return Object(j.jsx)("section",{className:"edit-article",children:Object(j.jsxs)("div",{className:"edit-article-box",children:[Object(j.jsx)("div",{className:"edit-art-text",children:Object(j.jsx)("h1",{className:"art-title",children:"Edit Article"})}),r[c.category]]})})}function Ie(){var e=Object(a.useContext)(u).userData,t=Object(a.useContext)(O).currentArt;return e._id===t.owner?Object(j.jsx)(i.b,{}):Object(j.jsx)(i.a,{to:"/"})}var Ce=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(m,{children:Object(j.jsxs)(h,{children:[Object(j.jsx)(p,{}),Object(j.jsx)("section",{className:"container",children:Object(j.jsxs)(i.e,{children:[Object(j.jsx)(i.c,{path:"/",element:Object(j.jsx)(w,{})}),Object(j.jsx)(i.c,{path:"/catalog",element:Object(j.jsx)(T,{})}),Object(j.jsx)(i.c,{path:"/login",element:Object(j.jsx)(de,{})}),Object(j.jsx)(i.c,{path:"/register",element:Object(j.jsx)(me,{})}),Object(j.jsx)(i.c,{path:"details/:artId",element:Object(j.jsx)(Se,{})}),Object(j.jsxs)(i.c,{element:Object(j.jsx)(Z,{}),children:[Object(j.jsx)(i.c,{path:"/create",element:Object(j.jsx)(ve,{})}),Object(j.jsx)(i.c,{path:"/profile",element:Object(j.jsx)(R,{})}),Object(j.jsx)(i.c,{path:"/messages/:userId",element:Object(j.jsx)($,{})}),Object(j.jsx)(i.c,{path:"/messages/:userId/:artId/:senderId",element:Object(j.jsx)(X,{})}),Object(j.jsx)(i.c,{element:Object(j.jsx)(Ie,{}),children:Object(j.jsx)(i.c,{path:"/edit/:artId",element:Object(j.jsx)(De,{})})})]}),Object(j.jsx)(i.c,{path:"*",element:Object(j.jsx)(ue,{})})]})}),Object(j.jsx)(N,{})]})})})},qe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,301)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(x.a,{children:Object(j.jsx)(Ce,{})})}),document.getElementById("root")),qe()}},[[300,1,2]]]);
//# sourceMappingURL=main.414d5719.chunk.js.map