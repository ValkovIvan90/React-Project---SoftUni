(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{104:function(e,t,n){"use strict";function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return s}))},28:function(e,t,n){},30:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return j})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return f}));var c="https://iwanttohave.herokuapp.com/api";function r(e){return fetch("".concat(c,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function s(e){return fetch("".concat(c,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function i(){return fetch("".concat(c,"/auth/logout"),{method:"GET",credentials:"include"})}function o(e){return fetch("".concat(c,"/auth/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}function a(e){return fetch("".concat(c,"/auth/getUserMessages/")+e,{credentials:"include"}).then((function(e){return e.json()}))}function u(e,t){return fetch("".concat(c,"/auth/getAllMessagesForCurrentArticle/")+e+"/"+t,{credentials:"include"}).then((function(e){return e.json()}))}function d(e,t,n){return fetch("".concat(c,"/auth/deleteDiscussion"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({artId:e,recieverId:t,senderId:n})}).then((function(e){return e.json()}))}function j(e){return fetch("".concat(c,"/upload/uploadUserImg"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({data:e})}).then((function(e){return e.json()})).then((function(e){return 200===e.status?window.location.reload():""}))}function l(){return fetch("".concat(c,"/upload/loadImages"),{method:"GET",credentials:"include"}).then((function(e){return e.json()}))}function f(e){return fetch("".concat(c,"/upload/deleteImage/")+e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){return 200===e.status?window.location.reload():""}))}},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(0),n(28);var c=n(1);function r(){return Object(c.jsxs)("div",{className:"lds-spinner",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}},312:function(e,t,n){},313:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var c=n(104),r=n(4),s=n(0),i=(n(312),n(6)),o=n(1);function a(e){var t=e.data,n=e.currentUser;return Object(o.jsx)("div",{className:"msg-container",children:Object(o.jsxs)("div",{className:"msg-box",children:[Object(o.jsxs)("div",{className:"time-author",children:[t.userInfo.senderId===n?Object(o.jsx)("h3",{className:"msg-box-author",style:{color:"red"},children:"Me"}):Object(o.jsx)("h3",{className:"msg-box-author",children:t.userInfo.username}),Object(o.jsx)("p",{className:"msg-time",children:t.userInfo.time})]}),Object(o.jsxs)("div",{className:"msg-box-content",children:[Object(o.jsx)("div",{className:"msg-box-img",children:Object(o.jsx)("img",{src:t.artData.image,alt:"article-img"})}),Object(o.jsx)("div",{className:"msg-box-message",children:Object(o.jsx)("p",{className:"msg-box-message-content",children:t.userInfo.msg})}),Object(o.jsx)("div",{className:"msg-card-btn",children:Object(o.jsx)(i.b,{to:"/messages/".concat(t.artData.owner,"/").concat(t.artData._id,"/").concat(t.userInfo.senderId===n?t.userInfo.recieverId:t.userInfo.senderId),children:"more"})})]})]})})}var u=n(30),d=n(2),j=(n(313),n(31));function l(){var e,t=Object(d.i)().userId,n=Object(s.useState)([]),i=Object(r.a)(n,2),l=i[0],f=i[1],h=Object(s.useState)(!1),b=Object(r.a)(h,2),O=b[0],m=b[1];return Object(s.useEffect)((function(){m(!1),Object(u.d)(t).then((function(e){f((function(t){return Object(c.a)(Object(c.a)({},t),{},{info:e.dataInfo})})),m(!0)})).catch((function(e){console.log(e.message)}))}),[t]),O?Object(o.jsxs)("div",{className:"message-conrainer",children:[Object(o.jsx)("h1",{className:"message-container-title",children:"Messages"}),(null===(e=l.info)||void 0===e?void 0:e.length)>0?l.info.map((function(e){return Object(o.jsx)(a,{data:e,currentUser:t},e.documentId)})):Object(o.jsx)("h1",{className:"sv-msg",children:"No Messages yet"})]}):Object(o.jsx)(j.a,{})}}}]);
//# sourceMappingURL=15.dbd661f2.chunk.js.map